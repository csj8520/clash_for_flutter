# HTTP ä»£ç†ç«¯å£
# port: 7890

# SOCKS5 ä»£ç†ç«¯å£
# socks-port: 7891

# Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£
redir-port: 7892
mixed-port: 7893

# å…è®¸å±€åŸŸç½‘çš„è¿æ¥
allow-lan: true

# è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰
# mode: rule
mode: Rule

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / info / warning / error / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: debug
# Clash çš„ RESTful API
external-controller: "127.0.0.1:9090"

# RESTful API çš„å£ä»¤
secret: ""

# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui`
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# external-ui: folder

# DNS è®¾ç½®

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: redir-host
  nameserver:
    - 8.8.8.8
    - 119.29.29.29
    - 223.5.5.5
    - https://rubyfish.cn/dns-query
  fallback:
    - https://cloudflare-dns.com/dns-query
    - tls://1.0.0.1:853
    - https://dns.google/dns-query#

# æœåŠ¡å™¨èŠ‚ç‚¹è®¢é˜…
# proxy-providers:
#   sspool:
#     type: http
#     url: "xxx"
#     interval: 3600
#     path: ./proxy/sspool.yaml
#     health-check:
#       enable: true
#       interval: 600
#       url: http://www.gstatic.com/generate_204

# proxies:
#   - name: "proxie"
#     type: vmess
#     server: xxx
#     port: 8080
#     uuid: xxx
#     alterId: 1
#     cipher: auto
#     udp: true
#     tls: false
#     network: ws
#     ws-opts:
#       path: /y831

proxy-groups:
#   - name: ğŸ”° èŠ‚ç‚¹é€‰æ‹©
#     type: select
#     proxies:
#       - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#       - ğŸ”¯ æ•…éšœè½¬ç§»
#       - ğŸ”® è´Ÿè½½å‡è¡¡
#       - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
#   - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#     type: url-test
#     url: "http://www.gstatic.com/generate_204"
#     interval: 600
#     use:
#       - sspool
#   - name: ğŸ”¯ æ•…éšœè½¬ç§»
#     type: fallback
#     use:
#       - sspool
#   - name: ğŸ”® è´Ÿè½½å‡è¡¡
#     type: load-balance
#     use:
#       - sspool
#   - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
#     type: select
#     use:
#       - sspool

  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸ›‘ éšç§ä¿æŠ¤
    type: select
    proxies:
      - REJECT
      - DIRECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸ›‘ ç½‘ç»œåŠ«æŒ
    type: select
    proxies:
      - REJECT
      - DIRECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - REJECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸŒ å›½å†…ç½‘ç«™
    type: select
    proxies:
      - DIRECT
      - REJECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - REJECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸ“² ç”µæŠ¥ä¿¡æ¯
    type: select
    proxies:
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
      - REJECT
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸŒ å›½å¤–ç½‘ç«™
    type: select
    proxies:
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
      - REJECT
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - DIRECT
      - REJECT
      # - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      # - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      # - ğŸ”¯ æ•…éšœè½¬ç§»
      # - ğŸ”® è´Ÿè½½å‡è¡¡

rule-providers:
  # name: # Provider åç§°
  #   type: http # http æˆ– file
  #   behavior: classical # æˆ– ipcidrã€domain
  #   path: # æ–‡ä»¶è·¯å¾„
  #   url: # åªæœ‰å½“ç±»å‹ä¸º HTTP æ—¶æ‰å¯ç”¨ï¼Œæ‚¨ä¸éœ€è¦åœ¨æœ¬åœ°ç©ºé—´ä¸­åˆ›å»ºæ–°æ–‡ä»¶ã€‚
  #   interval: # è‡ªåŠ¨æ›´æ–°é—´éš”ï¼Œä»…åœ¨ç±»å‹ä¸º HTTP æ—¶å¯ç”¨
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  icloud:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400

  google:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml
    interval: 86400

  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  direct:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400

  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400

  gfw:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400

  greatfire:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
    path: ./ruleset/greatfire.yaml
    interval: 86400

  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400

  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400

  applications:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml
    interval: 86400

  china:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/China.yaml"
    path: ./ruleset/china.yaml
    interval: 86400

  streamingcn:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/StreamingMedia/StreamingCN.yaml"
    path: ./ruleset/streamingcn.yaml
    interval: 86400

  streaming:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/StreamingMedia/Streaming.yaml"
    path: ./ruleset/streaming.yaml
    interval: 86400

  telegram:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/Extra/Telegram/Telegram.yaml"
    path: ./ruleset/telegram.yaml
    interval: 86400

  privacy:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/Guard/Privacy.yaml"
    path: ./ruleset/hijacking.yaml
    interval: 86400

  hijacking:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/Guard/Hijacking.yaml"
    path: ./ruleset/hijacking.yaml
    interval: 86400

# è§„åˆ™
# rules:
# Unbreak
# - PROCESS-NAME,China,DIRECT
# - PROCESS-NAME,google,DIRECT
# - RULE-SET,"ğŸ¯ å…¨çƒç›´è¿",DIRECT
# - RULE-SET,China,DIRECT
# - RULE-SET,google,DIRECT
# - MATCH,MATCH
# - GEOIP,CN,DIRECT
rules:
  - DOMAIN,pub.dev,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN,translate.googleapis.com,ğŸŒ å›½å¤–ç½‘ç«™

  - RULE-SET,private,DIRECT
  - RULE-SET,lancidr,DIRECT,no-resolve
  - RULE-SET,applications,DIRECT

  - RULE-SET,reject,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,privacy,ğŸ›‘ éšç§ä¿æŠ¤
  - RULE-SET,hijacking,ğŸ›‘ ç½‘ç»œåŠ«æŒ

  - RULE-SET,icloud,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,apple,ğŸ è‹¹æœæœåŠ¡

  - RULE-SET,china,ğŸŒ å›½å†…ç½‘ç«™
  - RULE-SET,streamingcn,ğŸŒ å›½å†…ç½‘ç«™
  - GEOIP,CN,ğŸŒ å›½å†…ç½‘ç«™

  - RULE-SET,google,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,direct,ğŸ¯ å…¨çƒç›´è¿

  - RULE-SET,telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯

  - RULE-SET,gfw,ğŸŒ å›½å¤–ç½‘ç«™
  - RULE-SET,proxy,ğŸŒ å›½å¤–ç½‘ç«™
  - RULE-SET,greatfire,ğŸŒ å›½å¤–ç½‘ç«™
  - RULE-SET,streaming,ğŸŒ å›½å¤–ç½‘ç«™

  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
